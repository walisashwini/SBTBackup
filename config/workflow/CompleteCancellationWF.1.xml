<?xml version="1.0" encoding="UTF-8"?>
<Workflow
  locale="gw.api.util.LocaleUtil.toLanguage(PolicyPeriod.Policy.PrimaryLanguage)"
  subtype="CompleteCancellationWF"
  version="1"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="workflow.xsd">
  <Context>
    <Symbol
      name="PolicyPeriod"
      type="PolicyPeriod"
      value="Workflow.PolicyPeriod"/>
    <Symbol
      name="Cancellation"
      type="Cancellation"
      value="Workflow.PolicyPeriod.Cancellation"/>
  </Context>
  <Start
    firstStep="WaitOrIssue"/>
  <AutoStep
    desc="Wait Or Issue"
    id="WaitOrIssue"
    layoutid="21108638">
    <Go
      desc=""
      if="PolicyPeriod.Cancellation.CancelProcessDate &lt;= java.util.Date.CurrentDate"
      layoutid="31272338"
      nextStep="Bound"/>
    <Go
      desc=""
      layoutid="31126311"
      nextStep="PendingCancel"/>
    <StepLocalization
      locale="zh_CN"
      name="等待或开具"/>
    <StepLocalization
      locale="de"
      name="Warten oder ausgeben"/>
    <StepLocalization
      locale="es"
      name="Esperar o emitir"/>
    <StepLocalization
      locale="pt"
      name="Aguardar ou emitir"/>
    <StepLocalization
      locale="fr"
      name="En attente ou problème"/>
    <StepLocalization
      locale="ru"
      name="Ожидать или выпустить"/>
    <StepLocalization
      locale="ja"
      name="待機または計上"/>
    <StepLocalization
      locale="it"
      name="Attendi o emetti"/>
    <StepLocalization
      locale="nl"
      name="Wachten of uitgeven"/>
  </AutoStep>
  <ManualStep
    desc="Pending Cancel"
    id="PendingCancel"
    layoutid="1877110">
    <Trigger
      desc=""
      id="Rescind"
      layoutid="22284729"
      nextStep="Rescinded">
      <Available
        test="PolicyPeriod.CancellationProcess.canRescind().Okay"/>
    </Trigger>
    <Timeout
      desc=""
      layoutid="30046104"
      nextStep="Bound"
      timeAbsolute="PolicyPeriod.Cancellation.CancelProcessDate"/>
    <StepLocalization
      locale="zh_CN"
      name="待取消"/>
    <StepLocalization
      locale="de"
      name="Ausstehende Stornierung"/>
    <StepLocalization
      locale="es"
      name="Cancelación pendiente"/>
    <StepLocalization
      locale="pt"
      name="Cancelamento pendente"/>
    <StepLocalization
      locale="fr"
      name="En attente d'annulation"/>
    <StepLocalization
      locale="ru"
      name="Ожидание отмены"/>
    <StepLocalization
      locale="ja"
      name="解約待ち"/>
    <StepLocalization
      locale="it"
      name="In attesa di cancellazione"/>
    <StepLocalization
      locale="nl"
      name="In afwachting van beëindiging"/>
  </ManualStep>
  <Outcome
    desc="Bound"
    id="Bound"
    layoutid="30870454">
    <Enter><![CDATA[PolicyPeriod.CancellationProcess.issueCancellationFromWorkflow()]]></Enter>
    <StepLocalization
      locale="zh_CN"
      name="已绑定"/>
    <StepLocalization
      locale="de"
      name="Verbindlich gemacht"/>
    <StepLocalization
      locale="es"
      name="Contratado"/>
    <StepLocalization
      locale="pt"
      name="Vinculado"/>
    <StepLocalization
      locale="fr"
      name="Lié"/>
    <StepLocalization
      locale="ru"
      name="(обязательная)"/>
    <StepLocalization
      locale="ja"
      name="確定済み"/>
    <StepLocalization
      locale="it"
      name="Vincolato"/>
    <StepLocalization
      locale="nl"
      name="Bindend"/>
  </Outcome>
  <Outcome
    desc="Rescinded"
    id="Rescinded"
    layoutid="21106953">
    <Enter><![CDATA[PolicyPeriod.CancellationProcess.rescind()]]></Enter>
    <StepLocalization
      locale="zh_CN"
      name="已撤销"/>
    <StepLocalization
      locale="de"
      name="Aufgehoben"/>
    <StepLocalization
      locale="es"
      name="Revocado"/>
    <StepLocalization
      locale="pt"
      name="Rescinded"/>
    <StepLocalization
      locale="fr"
      name="Résilié"/>
    <StepLocalization
      locale="ru"
      name="Аннулирование"/>
    <StepLocalization
      locale="ja"
      name="取消済み"/>
    <StepLocalization
      locale="it"
      name="Rescissione"/>
    <StepLocalization
      locale="nl"
      name="Herroepen"/>
  </Outcome>
  <Finish/>
  <Layout>
    <BoxUI
      height="4"
      layoutid="25493999"
      width="20"
      x="1"
      y="0"/>
    <BoxUI
      height="4"
      layoutid="21108638"
      width="20"
      x="1"
      y="11"/>
    <BoxUI
      height="4"
      layoutid="1877110"
      width="20"
      x="1"
      y="21"/>
    <BoxUI
      height="4"
      layoutid="7436410"
      width="20"
      x="1"
      y="41"/>
    <BoxUI
      height="4"
      layoutid="27051815"
      width="20"
      x="32"
      y="31"/>
    <BoxUI
      height="4"
      layoutid="30870454"
      width="20"
      x="1"
      y="31"/>
    <BoxUI
      height="4"
      layoutid="21106953"
      width="20"
      x="32"
      y="21"/>
    <BoxUI
      height="4"
      layoutid="7119100"
      width="20"
      x="32"
      y="41"/>
    <ArrowUI
      layoutid="29179169"
      visible="true">
      <PointUI
        x="11"
        y="4"/>
      <PointUI
        x="11"
        y="10"/>
    </ArrowUI>
    <ArrowUI
      layoutid="16280960"
      visible="true">
      <PointUI
        x="21"
        y="4"/>
      <PointUI
        x="52"
        y="32"/>
    </ArrowUI>
    <ArrowUI
      layoutid="31272338"
      visible="true">
      <PointUI
        x="1"
        y="13"/>
      <PointUI
        x="-5"
        y="13"/>
      <PointUI
        x="-5"
        y="33"/>
      <PointUI
        x="1"
        y="33"/>
    </ArrowUI>
    <ArrowUI
      layoutid="31126311"
      visible="true">
      <PointUI
        x="11"
        y="15"/>
      <PointUI
        x="11"
        y="21"/>
    </ArrowUI>
    <ArrowUI
      layoutid="26319067"
      visible="true">
      <PointUI
        x="21"
        y="23"/>
      <PointUI
        x="31"
        y="23"/>
    </ArrowUI>
    <ArrowUI
      layoutid="30046104"
      visible="true">
      <PointUI
        x="11"
        y="25"/>
      <PointUI
        x="11"
        y="31"/>
    </ArrowUI>
    <ArrowUI
      layoutid="24238226"
      visible="true">
      <PointUI
        x="11"
        y="41"/>
      <PointUI
        x="11"
        y="35"/>
    </ArrowUI>
    <ArrowUI
      layoutid="21068232"
      visible="true">
      <PointUI
        x="21"
        y="43"/>
      <PointUI
        x="32"
        y="43"/>
    </ArrowUI>
    <ArrowUI
      layoutid="27418641"
      visible="true">
      <PointUI
        x="42"
        y="31"/>
      <PointUI
        x="42"
        y="25"/>
    </ArrowUI>
    <ArrowUI
      layoutid="22091936"
      visible="true">
      <PointUI
        x="42"
        y="35"/>
      <PointUI
        x="42"
        y="41"/>
    </ArrowUI>
    <ArrowUI
      layoutid="22284729"
      visible="true">
      <PointUI
        x="21"
        y="23"/>
      <PointUI
        x="32"
        y="23"/>
    </ArrowUI>
  </Layout>
</Workflow>
